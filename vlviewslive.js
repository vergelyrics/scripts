const viewSettings={blogID:"7214744216558602507",databaseUrl:"https://vergelyrics-default-rtdb.firebaseio.com/",abbreviation:!0,lazyload:!1,trendingThreshold:5e3},Utils={loadJs:(e,t,a=!0,i=null)=>{const s=document.createElement("script");t&&(s.id=t),s.async=a,s.src=e,i&&(s.onload=i),document.getElementsByTagName("head")[0].appendChild(s)},abbreviate:e=>{const t=Number(e),a=Math.sign(t);return Math.abs(t)>=1e9?`${a*(Math.abs(t)/1e9).toFixed(2)}B`:Math.abs(t)>=1e6?`${a*(Math.abs(t)/1e6).toFixed(2)}M`:Math.abs(t)>=1e3?`${a*(Math.abs(t)/1e3).toFixed(2)}K`:`${Math.abs(t)}`}},ViewLoader={initializeFirebase:()=>{const e={databaseURL:viewSettings.databaseUrl};firebase.initializeApp(e)},loadViews:()=>{const e=document.querySelectorAll(".liveViews"),t=firebase.database();e.forEach(e=>{const a=e.getAttribute("data-id"),i=t.ref(`BlogID_${viewSettings.blogID}/PostID_${a}`);i.once("value",t=>{const a=t.exists()?t.val():0;if(a>0){const t=viewSettings.abbreviation?Utils.abbreviate(a):a;e.setAttribute("data-view",t),e.classList.remove("hidden");const i=e.closest(".views").querySelector(".pV");if(i&&i.classList.add("hidden"),a>viewSettings.trendingThreshold){const t=e.closest(".views");t&&t.classList.add("trending")}}"true"===e.getAttribute("data-add")&&(e.setAttribute("data-add","false"),i.set(parseInt(a)+1))})})},initialize:()=>{Utils.loadJs("https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js","fb-app",!0,()=>{Utils.loadJs("https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js","fb-db",!0,()=>{ViewLoader.initializeFirebase(),ViewLoader.loadViews()})})}},LazyLoader={loadIfNeeded:()=>{localStorage.getItem("LZ_VIEW")||(localStorage.setItem("LZ_VIEW",1),ViewLoader.initialize())},setup:()=>{window.addEventListener("scroll",()=>{(document.documentElement.scrollTop>0||document.body.scrollTop>0)&&!localStorage.getItem("LZ_VIEW")&&LazyLoader.loadIfNeeded()},!0),document.body.addEventListener("click",LazyLoader.loadIfNeeded),localStorage.getItem("LZ_VIEW")&&ViewLoader.initialize()}};viewSettings.lazyload?LazyLoader.setup():ViewLoader.initialize();
