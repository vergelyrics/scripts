function initializeArtists(){const e=document.querySelector(".tableVL").getElementsByTagName("tr"),t={};function s(e){return e.trim().toLowerCase().replace(/\s+/g,"+")}for(let n=1;n<e.length;n++){const c=e[n],l=c.cells[0].innerText.trim();"Label"!==l&&c.cells[1].innerHTML.split(",").map(e=>e.trim()).forEach(e=>{let n,c;const i=document.createElement("div");i.innerHTML=e;const r=i.querySelector("a");r?(n=r.textContent.trim(),c=r.getAttribute("href")):c=`/search?q=${s(n=e)}`;let a=l.replace("Cast","Actor").replace("Writer","Lyricist").replace("Composer","Music");t[n]||(t[n]={fields:new Set,link:c}),t[n].fields.add(a)})}const n=document.createElement("div");n.className="artistCon";const c=[],l="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhINdEIg1_idewOzB8A1-HXFC8Isw_7OYXvxxlD4Rk-OyIBHzIdNrcXFP_iteAFQVwu0S6f8okAfYb-4CpatWDmqnSPtidq9-RAsHd5RCj68zhdYPkHynjDYW8hb2uQWx3gPr_LAMvcesIv_CAFwGVJjtfj-lEAMK1hxYbtkOLErFdXQrScw8pjt36z57w/s250/defaultArtist.jpg";for(let e in t){const s=Array.from(t[e].fields).join(", "),i=t[e].link,r=document.createElement("div");r.className="artistF",r.style.display=c.length>=5?"none":"block",r.innerHTML=`<div class="ppA"><div class="ppIn"><div class="ppImg"><img src="${l}" alt="Poster ${e}" width="100%" height="100%" loading="lazy"></div><div class="wB"><div class="wTh"><span>${e}</span></div><div class="ppGe"><span class="lNm">${s}</span></div></div><a class="ppLK" href="${i}" title="${e}"></a></div></div>`,c.push(r),n.appendChild(r)}let i=document.querySelector(".recentP");if(i||((i=document.createElement("div")).className="recentP",document.body.appendChild(i)),i.innerHTML="",i.appendChild(n),c.length>5){const e=document.createElement("div");e.className="pSL",e.innerHTML='<button class="btn is-small">Show full artists<i class="fa-chevron-down"></i></button>',i.appendChild(e),e.querySelector("button").addEventListener("click",()=>{c.forEach(e=>{e.style.display="block"}),e.style.display="none"})}fetch("https://script.google.com/macros/s/AKfycbw9_PfpLSHcau_k6_Gm_y83bGxNl55sMCt87v43XQ3i3RspcJKtKbgZVazDKdsbkJ2C/exec").then(e=>e.json()).then(e=>{const t={};e.forEach(e=>{t[e.Name.toLowerCase()]=e.Image}),c.forEach(e=>{const s=e.querySelector(".wTh span").textContent.toLowerCase(),n=t[s]||l;e.querySelector(".ppImg img").src=n})}).catch(e=>{console.error("Error fetching thumbnails:",e)})}initializeArtists();
