function processLyrics(){const e=document.querySelector(".lyricsContainer, .lyricsContain");if(!e)return;e.querySelectorAll("span[data-text]").forEach((e=>{let t=e.getAttribute("data-text");e.removeAttribute("class"),e.removeAttribute("data-text"),e.innerHTML=t+"<br>"}));const t=document.querySelector(".tableVL");let n="",r="",a="";t.querySelectorAll("tr").forEach((e=>{const t=e.querySelectorAll("td");if(2===t.length){const e=t[0].innerText.trim(),o=t[1].innerText.trim();"Song"===e?n=o:"Singer"===e?r=o:"Label"===e&&(a=o)}}));const o=["Sa","Ni","Dha","Pa","Ma","Ga","Ri","Nu","Re Ra","Ra Ra","Deem","Trikit","Krandha","Krandh","Dhim","Ra","Re","Na","Ae","Aa","Tha","Nee","Kita","Thaka","Dith"],i=["Oh Ho Ho","Ho Ho Oh","Oh Ho Oh","Hmm…","Haan Aan Aa…","Ho Ho","Ho Oh Ho","Ee Ee…","Aan Aa…"];e.addEventListener("copy",(e=>{e.preventDefault();try{let t=window.getSelection();if(!t.rangeCount)return;let l=document.createElement("div");for(let e=0;e<t.rangeCount;e++)l.appendChild(t.getRangeAt(e).cloneContents());l.querySelectorAll('[data-copied="disabled"]').forEach((e=>e.remove()));let c=l.innerHTML.replace(/\s*\(.*?\)\s*/g,"").replace(/,/g,"").replace(/<\/?p>/g,"\n").replace(/<\/?div>/g,"\n").replace(/<\/?span[^>]*>/g,"").replace(/<br\s*\/?>/g,"\n").replace(/<\/?[^>]+(>|$)/g,"").replace(/\n\s*\n/g,"\n").split("\n").filter((e=>{let t=o.filter((t=>new RegExp(`\\b${t}\\b`).test(e))).length,n=i.some((t=>e.includes(t)));return t<2&&!n})).join("\n"),s=`Song Title: ${n}\nSinger: ${r}\nLabel: ${a}\nPublisher: VergeLyrics\n\n\x3c!-- [Lyrics Starts] --\x3e\n\n${c}\n\n\x3c!-- [Lyrics Ends] --\x3e`;e.clipboardData.setData("text/plain",s.trim()),toastNotif("Copied successfully!")}catch(e){toastNotif("Error, cannot copy, try again...")}}))}processLyrics();
