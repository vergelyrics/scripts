function handleCopyProtection(){document.querySelectorAll(".lyricsContainer, .lyricsContain").forEach(e=>{e.addEventListener("copy",e=>{if(localStorage.getItem("copyAllowed"))return;e.preventDefault();const t=document.getElementById("fixedNotif");if(t){t.innerHTML="",t.insertAdjacentHTML("beforeend",'<div class="fxPu noteCopy" id="antiNote"><div class="fxPuW"><div class="fxPuC"><div class="fxPuS"><svg class="line" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line class="svgC" x1="12" x2="12" y1="8" y2="12"></line><line class="svgC" x1="12" x2="12.01" y1="16" y2="16"></line></svg></div><div class="fxPuH">Alert user!</div><div class="fxPuD">Our lyrics are for reading only, not copying. They are copyrighted by the label companies*. Creators may use them with proper credit.<br>Unauthorized reposting by any other website will lead to legal action or DMCA strikes without prior notice.<br><span class="fcMT"><b>After closing this notice, you can copy the lyrics.</b></span></div><div class="fxPuCB"><button id="clsNot" class="btn" aria-label="Ok Button" title="Close Notice">Ok, Got it!</button></div></div></div></div>'),document.body.classList.add("no_scroll");const e=document.getElementById("clsNot");e&&e.addEventListener("click",()=>{const e=document.getElementById("antiNote");e&&e.remove(),document.body.classList.remove("no_scroll"),localStorage.setItem("copyAllowed","yes")})}})}),window.addEventListener("beforeunload",()=>{localStorage.removeItem("copyAllowed")})}handleCopyProtection();

function processLyrics(){const e=document.querySelector(".lyricsContainer");if(!e)return;e.querySelectorAll("span[data-text]").forEach((e=>{let t=e.getAttribute("data-text");e.removeAttribute("class"),e.removeAttribute("data-text"),e.innerHTML=t+"<br>"}));const t=document.querySelector(".tableVL");let r="",n="",l="";t.querySelectorAll("tr").forEach((e=>{const t=e.querySelectorAll("td");if(2===t.length){const e=t[0].innerText.trim(),c=t[1].innerText.trim();"Song"===e?r=c:"Singer"===e?n=c:"Label"===e&&(l=c)}})),e.addEventListener("copy",(function(e){e.preventDefault();let t=window.getSelection();if(!t.rangeCount)return;let c=document.createElement("div");for(let e=0;e<t.rangeCount;e++)c.appendChild(t.getRangeAt(e).cloneContents());c.querySelectorAll('[data-copied="disabled"]').forEach((e=>{e.remove()}));let a=c.innerHTML.replace(/\s*\(.*?\)\s*/g,"").replace(/,/g,"").replace(/<\/?p>/g,"\n").replace(/<\/?span[^>]*>/g,"").replace(/<br\s*\/?>/g,"\n").replace(/<\/?[^>]+(>|$)/g,"").replace(/\n\s*\n/g,"\n"),o=`Song Title: ${r}\nSinger: ${n}\nLabel: ${l}\nPublisher: VergeLyrics\n\n\x3c!-- [Lyrics Starts] ---\x3e\n\n${a}\n\n\x3c!-- [Lyrics Ends] ---\x3e`;e.clipboardData.setData("text/plain",o.trim())}))}processLyrics();
